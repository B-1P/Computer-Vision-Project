o = zeros(12,1);
o(2) = 1;
final = zeros(566,724,3,50,'uint8');
angle = (find(o==1)-1)*pi/6;
points = [1 1 1 1 -1 -1 -1 -1; 1 1 -1 -1 1 1 -1 -1; -1 1 -1 1 -1 1 -1 1; ones(1,8)];
cube = getcube(points);
rot = [cos(angle) 0 sin(angle) 0;
       0 1 0 0;
       -sin(angle) 0 cos(angle) 0;
       0 0 0 1;];
s = [0.5 0 0 0;
     0 0.5 0 0;
     0 0 18 0;
     0 0 0 1];
t = [eye(3) [0; 0; 20]; [0 0 0 1]];
cube = t*s*rot*cube;
%     figure();
%     plot3(cube(1,:),cube(3,:),cube(2,:));

f = 1000;
p = 0;
ang = 0;
T = [eye(3) [0;0;0];[0 0 0 1]];
R = [cos(ang) 0 sin(ang) 0;
     0 1 0 0;
     -sin(ang) 0 cos(ang) 0;
     0 0 0 1;];
K = [f 0 320;0 f 240; 0 0 1];
P = [eye(3) [0;0;0;]];
cube2D = K*P*R*T*cube;
cube2D = [cube2D(1,:)./cube2D(3,:);cube2D(2,:)./cube2D(3,:)];
img = zeros(480,640);
figure();
imshow(img);
hold on;
plot(cube2D(1,:),cube2D(2,:));
% frame = getframe(gcf);
% final(:,:,:,i) = frame.cdata;
% close;
% mov = immovie(final);
% implay(mov);